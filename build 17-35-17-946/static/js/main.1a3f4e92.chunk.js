(this["webpackJsonpbad-bank"]=this["webpackJsonpbad-bank"]||[]).push([[0],{32:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(13),s=a.n(r),o=a(2),l=a(3),i=a(12),b=a(0),u=l.a,j=i.b,d=i.a,h=c.a.createContext(null);function x(e){return Object(b.jsxs)("div",{className:"card mb-3 "+(e.bgcolor?" bg-"+e.bgcolor:" ")+(e.txtcolor?" text-"+e.txtcolor:" text-white"),style:e.style?e.style:{maxWidth:"18rem"},children:[Object(b.jsx)("div",{className:"card-header",children:e.header}),Object(b.jsxs)("div",{className:"card-body",children:[e.title&&Object(b.jsx)("h5",{className:"card-title",children:e.title}),e.text&&Object(b.jsx)("p",{className:"card-text",children:e.text}),e.body,e.status&&Object(b.jsx)("div",{id:"createStatus",style:{color:"red",background:"white",marginTop:"10px"},children:e.status})]})]})}function m(e){var t=e.onClick,a=e.disabled,n=e.variant,c=e.text,r=e.className;return Object(b.jsx)("button",{className:r,onClick:t,disabled:a,variant:n,children:c})}function O(e){var t=e.onChange,a=e.placeholder;return Object(b.jsxs)("div",{className:"input-group mb-3",children:[Object(b.jsx)("span",{className:"input-group-text",children:"$"}),Object(b.jsx)("input",{type:"text",className:"form-control","aria-label":"Amount (to the nearest dollar)",onChange:t,placeholder:a}),Object(b.jsx)("span",{className:"input-group-text",children:".00"})]})}function g(){return Object(b.jsx)("img",{src:"bank-green.svg",width:"35px",className:"img-fluid",alt:"Responsive image"})}var p=function(){var e=c.a.useState([]),t=Object(o.a)(e,2),a=t[0],n=t[1],r=c.a.useContext(h);return c.a.useEffect((function(){fetch("/account/all").then((function(e){return e.json()})).then((function(e){console.log(e),n(e)}))}),[]),Object(b.jsx)(x,{bgcolor:"info",style:{maxWidth:"45rem"},header:"All data",title:r.currentUser?"Current user: "+r.currentUser.email:"",body:Object(b.jsx)("table",{className:"table",children:Object(b.jsx)("tbody",{children:a.map((function(e){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h5",{className:"text-white font-weight-bold",children:"User: "+e.email}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"text-white font-weight-bold",children:"Name:"}),Object(b.jsx)("td",{children:e.name})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"text-white font-weight-bold",children:"Email:"}),Object(b.jsx)("td",{children:e.email})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"text-white font-weight-bold",children:"Password:"}),Object(b.jsx)("td",{children:e.password})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{className:"text-white font-weight-bold",children:"Balance:"}),Object(b.jsx)("td",{children:e.balance})]})]})}))})})})},v=a(11),f=a.n(v),N=a(16);var w=function(){var e=c.a.useState(!0),t=Object(o.a)(e,2),a=t[0],n=t[1],r=c.a.useState(""),s=Object(o.a)(r,2),l=s[0],i=s[1],u=c.a.useState(""),j=Object(o.a)(u,2),d=j[0],h=j[1],O=c.a.useState(""),g=Object(o.a)(O,2),p=g[0],v=g[1],w=c.a.useState(""),C=Object(o.a)(w,2),S=C[0],y=C[1],k=c.a.useState(!0),T=Object(o.a)(k,2),A=T[0],E=T[1];function F(e,t){return!!e||(i("Error: "+t),setTimeout((function(){return i("")}),3e3),!1)}function U(){h(""),v(""),y(""),n(!0),E(!0)}return Object(b.jsx)(x,{bgcolor:"info",header:"Create Account",status:l,body:a?Object(b.jsxs)(b.Fragment,{children:["Name",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"input",className:"form-control",id:"name",placeholder:"Enter name",value:d,onChange:function(e){h(e.currentTarget.value),E(!e.currentTarget.value)}}),Object(b.jsx)("br",{}),"Email address",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"input",className:"form-control",id:"email",placeholder:"Enter email",value:p,onChange:function(e){v(e.currentTarget.value),E(!e.currentTarget.value)}}),Object(b.jsx)("br",{}),"Password",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Enter password",value:S,onChange:function(e){y(e.currentTarget.value),E(!e.currentTarget.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)(m,{text:"Create Account",disabled:A,variant:"primary",onClick:function(){if(console.log(d,p,S),F(d,"name")&&F(p,"email")&&F(S,"password")){if(S.length<8)return F(!1,"Password must be more than 8 characters"),void U();var e="/account/create/".concat(d,"/").concat(p,"/").concat(S);Object(N.a)(f.a.mark((function t(){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,console.log(n);case 7:case"end":return t.stop()}}),t)})))(),n(!1)}},className:"btn btn-outline-light"})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h5",{children:"Success"}),Object(b.jsx)("button",{type:"submit",className:"btn btn-light",onClick:U,children:"Add another account"})]})})};var C=function(){var e=c.a.useContext(h),t=e.currentUser,a=c.a.useState(t?t.balance:null),n=Object(o.a)(a,2),r=n[0],s=n[1],l=c.a.useState(!0),i=Object(o.a)(l,2),u=i[0],j=i[1],d=c.a.useState(""),g=Object(o.a)(d,2),p=g[0],v=g[1],f=c.a.useState(""),N=Object(o.a)(f,2),w=(N[0],N[1],c.a.useState("")),C=Object(o.a)(w,2),S=C[0],y=C[1],k=c.a.useState(!0),T=Object(o.a)(k,2),A=T[0],E=T[1];function F(e,t){return!!e||(v("Error: "+t),setTimeout((function(){return v("")}),3e3),!1)}function U(){y(""),E(!0),j(!0)}return Object(b.jsx)(x,{bgcolor:"info",header:"Deposit",status:p,body:u?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("h3",{children:["Balance $",r||"?"]}),Object(b.jsx)("br",{}),"Deposit Amount",Object(b.jsx)("br",{}),Object(b.jsx)(O,{onChange:function(e){y(e.currentTarget.value),E(!e.currentTarget.value)},placeholder:"Enter deposit amount"}),Object(b.jsx)(m,{text:"Submit",disabled:A,variant:"primary",onClick:function(){if(console.log(S),F(S,"0"))return S<=0?(F(!1,"Invalid deposit amount"),void U()):isNaN(S)?(F(!1,"Value must be a number"),void U()):void(F(S)&&(t.balance+=Number(S),s(t.balance),fetch("/account/update/".concat(t.email,"/").concat(S)).then((function(e){return console.log(e)})),alert("Deposit was received successfully"),U()))},className:"btn btn-outline-light"})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("h3",{children:["Balance $",e.currentUser.balance.toFixed(2)]}),Object(b.jsx)("br",{}),Object(b.jsx)("h6",{children:"Your account has been updated!"}),Object(b.jsx)(m,{text:"Start Another Transaction",className:"btn btn-success",onClick:U})]})})};var S=function(){return Object(b.jsx)(x,{txtcolor:"black",header:"Bad Bank",title:"Welcome to the bank",text:"Use the navigation bar to move throughout your options.",body:Object(b.jsx)("img",{src:"bank.png",className:"img-fluid",alt:"Responsive image"})})};var y=function(){var e=c.a.useContext(h),t=e.currentUser,a=c.a.useState(!0),n=Object(o.a)(a,2),r=n[0],s=n[1],l=c.a.useState(""),i=Object(o.a)(l,2),u=i[0],j=i[1],d=c.a.useState(""),O=Object(o.a)(d,2),g=O[0],p=O[1],v=c.a.useState(""),f=Object(o.a)(v,2),N=f[0],w=f[1],C=c.a.useState(!0),S=Object(o.a)(C,2),y=S[0],k=S[1];function T(e,t){return!!e||(j("Error: "+t),setTimeout((function(){return j("")}),3e3),!1)}function A(){p(""),w(""),s(!0),k(!0)}return Object(b.jsx)(x,{bgcolor:"info",header:"Login",status:u,body:r?Object(b.jsxs)(b.Fragment,{children:["Email address",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"input",className:"form-control",id:"email",placeholder:"Enter email",value:g,onChange:function(e){p(e.currentTarget.value),k(!e.currentTarget.value)}}),Object(b.jsx)("br",{}),"Password",Object(b.jsx)("br",{}),Object(b.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Enter password",value:N,onChange:function(e){w(e.currentTarget.value),k(!e.currentTarget.value)}}),Object(b.jsx)("br",{}),Object(b.jsx)(m,{text:"Login",disabled:y,variant:"primary",onClick:function(){if(console.log(g,N),T(g,"email")&&T(N,"password"))return N.length<8?(T(!1,"Password must be more than 8 characters"),void A()):void fetch("/account/login/".concat(g,"/").concat(N)).then((function(e){return e.text()})).then((function(a){try{var n=JSON.parse(a);console.log("JSON:",n),t=n,e.currentUser=t,s(!1)}catch(c){alert(a),console.log("err:",a)}}))},className:"btn btn-outline-light"})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h5",{children:"Success"}),Object(b.jsx)("button",{type:"submit",className:"btn btn-light",onClick:A,children:"Add another account"})]})})};var k=function(){var e=c.a.useContext(h),t=e.currentUser,a=c.a.useState(t?t.balance:null),n=Object(o.a)(a,2),r=n[0],s=n[1],l=c.a.useState(!0),i=Object(o.a)(l,2),u=i[0],j=i[1],d=c.a.useState(""),g=Object(o.a)(d,2),p=g[0],v=g[1],f=c.a.useState(""),N=Object(o.a)(f,2),w=N[0],C=N[1],S=c.a.useState(!0),y=Object(o.a)(S,2),k=y[0],T=y[1];function A(e,t){return!!e||(v("Error: "+t),setTimeout((function(){return v("")}),3e3),!1)}function E(){C(""),T(!0),j(!0)}return Object(b.jsx)(x,{bgcolor:"info",header:"Withdraw",status:p,body:u?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("h3",{children:["Balance $",r||"?"]}),Object(b.jsx)("br",{}),"Withdraw Amount",Object(b.jsx)("br",{}),Object(b.jsx)(O,{onChange:function(e){C(e.currentTarget.value),T(!e.currentTarget.value)},placeholder:"Enter withdraw amount"}),Object(b.jsx)(m,{text:"Submit",disabled:k,variant:"primary",onClick:function(){if(console.log(w),A(w,"0"))return w<=0?(A(!1,"Invalid Withdraw amount"),void E()):isNaN(w)?(A(!1,"Value must be a number"),void E()):void(A(w)&&(t.balance-=Number(w),s(t.balance),fetch("/account/update/".concat(t.email,"/-").concat(w)).then((function(e){return console.log(e)})),alert("Withdraw was received successfully"),E()))},className:"btn btn-outline-light"})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("h3",{children:["Balance $",e.currentUser.balance.toFixed(2)]}),Object(b.jsx)("br",{}),Object(b.jsx)("h6",{children:"Your account has been updated!"}),Object(b.jsx)(m,{text:"Start Another Transaction",className:"btn btn-success",onClick:E})]})})};var T=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(b.jsx)("a",{className:"navbar-brand",href:"/","data-toggle":"tooltip",title:"Home",children:Object(b.jsx)(g,{})}),Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(b.jsxs)("ul",{className:"navbar-nav",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(j,{className:"nav-link",to:"/CreateAccount/","data-toggle":"tooltip",title:"Create Account",children:"Create Account"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(j,{className:"nav-link",to:"/login/","data-toggle":"tooltip",title:"Login",children:"Login"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(j,{className:"nav-link",to:"/deposit/","data-toggle":"tooltip",title:"Deposit",children:"Deposit"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(j,{className:"nav-link",to:"/withdraw/","data-toggle":"tooltip",title:"Withdraw",children:"Withdraw"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(j,{className:"nav-link",to:"/alldata/","data-toggle":"tooltip",title:"All Accounts",children:"All Accounts"})})]})})]})})};var A=function(){return Object(b.jsxs)(d,{children:[Object(b.jsx)(T,{}),Object(b.jsx)(h.Provider,{value:{currentUser:null,users:[{name:"abel",email:"abel@mit.edu",password:"secret",balance:100,transactions:[]}]},children:Object(b.jsxs)("div",{className:"fixed-container",style:{padding:"20px"},children:[Object(b.jsx)(u,{path:"/",exact:!0,component:S}),Object(b.jsx)(u,{path:"/CreateAccount/",component:w}),Object(b.jsx)(u,{path:"/login/",component:y}),Object(b.jsx)(u,{path:"/deposit/",component:C}),Object(b.jsx)(u,{path:"/withdraw/",component:k}),Object(b.jsx)(u,{path:"/alldata/",component:p})]})})]})},E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,33)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};a(31);s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(A,{})}),document.getElementById("root")),E()}},[[32,1,2]]]);
//# sourceMappingURL=main.1a3f4e92.chunk.js.map